<Scaffold>
    <attr:appBar>
        <AppBar>
            <attr:title>
                <Text text="${info_data.title}"/>
            </attr:title>
        </AppBar>
    </attr:appBar>

    <attr:body>
        <CustomScrollView>
            <SliverToBoxAdapter>
                <Padding padding="all(10)">
                    <Row>
                        <Image width="90" height="120" fit="cover">
                            <attr:image>
                                <CachedNetworkImageProvider>${info_data.picture}</CachedNetworkImageProvider>
                            </attr:image>
                        </Image>
                        <Expanded>
                            <Column crossAxisAlignment="start">
                                <Text>${info_data.title}</Text>
                                <Text>${info_data.subtitle}</Text>

                                <Column crossAxisAlignment="start">
                                    <for array="${info_data.data.tags}">
                                        <Text.rich>
                                            <TextSpan>
                                                <TextSpan text="${item.title}"></TextSpan>
                                                <for array="${item.links}" item="link">
                                                    <WidgetSpan>
                                                        <Container margin="only(3,,3,)">
                                                            <Row mainAxisSize="min">
                                                                <Container padding="only(1,2,4,2)">
                                                                    <Text text="${link.name}">
                                                                        <attr:style>
                                                                            <TextStyle color="white" fontSize="8"/>
                                                                        </attr:style>
                                                                    </Text>
                                                                    <attr:decoration>
                                                                        <BoxDecoration color="black" borderRadius="horizontal(circular(4), )">
                                                                            <attr:boxShadow>
                                                                                <BoxShadow color="black" blurRadius="3"/>
                                                                            </attr:boxShadow>
                                                                        </BoxDecoration>
                                                                    </attr:decoration>
                                                                </Container>
                                                                <Container padding="only(4,2,1,2)">
                                                                    <Text text="${link.count}">
                                                                        <attr:style>
                                                                            <TextStyle color="white" fontSize="8"/>
                                                                        </attr:style>
                                                                    </Text>
                                                                    <attr:decoration>
                                                                        <BoxDecoration color="grey" borderRadius="horizontal(,circular(4))">
                                                                            <attr:boxShadow>
                                                                                <BoxShadow color="grey" blurRadius="3"/>
                                                                            </attr:boxShadow>
                                                                        </BoxDecoration>
                                                                    </attr:decoration>
                                                                </Container>
                                                            </Row>
                                                        </Container>
                                                    </WidgetSpan>
                                                </for>
                                            </TextSpan>
                                        </Text.rich>
                                    </for>
                                </Column>
                            </Column>
                        </Expanded>
                    </Row>
                </Padding>
                
            </SliverToBoxAdapter>
            <SliverGrid.count crossAxisCount="4" childAspectRatio="0.8">
                <for array="${info_data.data.images}">
                    <MaterialButton padding="zero">
                        <attr:onPressed>
                            <Function>
                                <Call function="$openChapter">
                                    <Argument value="${chapters[0]}"/>
                                    <Argument value="$index"/>
                                </Call>
                            </Function>
                        </attr:onPressed>
                        <Container width="999" height="999">
                            <Image fit="cover">
                                <attr:image>
                                    <CachedNetworkImageProvider>
                                        $item
                                    </CachedNetworkImageProvider>
                                </attr:image>
                            </Image>
                        </Container>
                    </MaterialButton>
                </for>
            </SliverGrid.count>
        </CustomScrollView>
    </attr:body>
</Scaffold>